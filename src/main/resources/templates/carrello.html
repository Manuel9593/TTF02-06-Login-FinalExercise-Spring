<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
		<title>Carrello</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	</head>
	<body>
		<div
			class="d-flex flex-column justify-content-center align-content-center m-4">
			<div class="container-sm bg-body-secondary pb-3 pt-3 pe-5 ps-5">
				<div class="h1" th:text="|CARRELLO PER ${ user.getFullName() }|"></div>
				<table class="table table-primary table-striped align-middle">
					<thead>
						<tr>
							<th scope="col" class="uppercase">PRODOTTO</th>
							<th scope="col" class="uppercase">PREZZO UNTIARIO</th>
							<th scope="col" class="uppercase">QTY</th>
							<th scope="col" class="uppercase">TOT</th>
							<th></th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="product : ${cart.getProducts()}">
							<td th:text="${product.name}"></td>
							<td th:text="${product.price}"></td>
							<td th:text="${cart.getQuantity(product)}"></td>
							<td th:text="${cart.getQuantity(product)*product.price}"></td>
							<td>
								<a
									th:href="@{/carrello/remove-product (productId=${product.id})"
									class="btn btn-danger"
									role="button"
								>
									Rimuovi
								</a>
							</td>
						</tr>
					</tbody>
				</table>
				<a th:href="@{/aggiungi}">ADD</a>
				<div>
					<a href='logout'>logout</a>
				</div>
			</div>
		</div>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	</body>
</html>